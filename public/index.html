<!DOCTYPE html>
<!--
Copyright (c) 2016 Google Inc.

Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at

http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License.
-->
<html>
<head>
  <meta charset=utf-8 />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Breaddit-Homepage</title>
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
  <link href="https://fonts.googleapis.com/css?family=Roboto|Rubik&display=swap" rel="stylesheet">
  <link rel = "stylesheet" type = "text/css" href = "breaddit.css">
  <script defer src="/__/firebase/7.1.0/firebase-app.js"></script>
  <script defer src="/__/firebase/7.1.0/firebase-auth.js"></script>
  <script defer src="/__/firebase/init.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://kit.fontawesome.com/327de1ef48.js"></script>
  <script src="server-requests.js"></script>
</head>
<body>
  <nav class="hidden navbar navbar-expand-md navbar-dark bg-dark" id="nav">
    <a id="home" class="navbar-brand" href="#"><i class="fas fa-bread-slice"></i> breaddit</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item active">
          <a class="nav-link" href="#" id="userprofile">User</a>
        </li>
      </ul>
      <div class="d-flex justify-content-center bd-highlight" id="myform">
        <div class="p-2 w-100 bd-highlight input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text" id="basic-search"><i class="fa fa-search" id="sIcon"></i></span>
          </div>
          <input name="search" type="text" class="form-control text-white float-none" id="search" placeholder="Search Breaddit" aria-label="Search Breaddit" aria-describedby="basic-search"/>
        </div>
        <div class="p-2 bd-highlight">
          <button type="button" class="btn text-white" id="submit">Search</button>
        </div>
      </div>
    </div>
  </nav>
  <br>
  <div class="container">
    <section id="notloggedin">
      <!--button id="test">Upvote</button>
      <button id="testfalse">Downvote</button>
      <button id="testprofile">Profile</button-->
      <div class="jumbotron bg-dark">
        <h1>Welcome to Breaddit!</h1>
        <p>Sign in with Google and choose your username to continue</p>
      </div>
      <div class="d-flex hidden justify-content-center bd-highlight" id="createuser">
        <div class="p-2 w-50 bd-highlight input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text" id="basic-addon1">u/</span>
          </div>
          <input name="myname" type="text" class="form-control text-white float-none" id="myname" placeholder="Username" aria-label="Username" aria-describedby="basic-addon1"/>
        </div>
        <div class="p-2 bd-highlight">
          <button type="button" class="btn text-white bg-dark" id="join">Join</button>
        </div>
      </div>
      <!-- Container where we'll display the user details -->
      <!--div class="quickstart-user-details-container">
        <Firebase sign-in status: <span id="quickstart-sign-in-status">Unknown</span>
        <div>Firebase auth <code>currentUser</code> object value:</div>
        <pre><code id="quickstart-account-details">null</code></pre>
        <div>Google OAuth Access Token:</div>
        <pre><code id="quickstart-oauthtoken">null</code></pre>
      </div-->
    </section>
    <section class="hidden" id="homepage">
      <div class="d-flex justify-content-center bd-highlight jumbotron bg-dark">
        <div class="p-2 w-75 bd-highlight input-group mb-3">
          <div class="input-group-prepend">
            <span class="input-group-text" id="basic-createbreaddit">b/</span>
          </div>
          <input name="breaddit" type="text" class="form-control text-white float-none" id="breaddit" placeholder="New Breaddit name" aria-label="New Breaddit name" aria-describedby="basic-createbreaddit"/>
        </div>
        <div class="p-2 bd-highlight">
          <button type="button" class="btn text-white" id="createbreaddit">Create</button>
        </div>
      </div>
      <div id="posts">
        <div class="card text-white bg-dark w-100">
          <div class="d-flex bd-highlight card-body">
            <div class="p-2 bd-highlight float-left" id="votes">
              <i class="fas fa-caret-up vote-arrow" id="up"></i>
              <div id="votes">1</div>
              <i class="fas fa-caret-down vote-arrow" id=down"></i>
            </div>
            <div class="p-2 flex-grow-1 bd-highlight float-right">
              <h6 class="card-subtitle mb-2 text-muted text-left"><strong id="postbreaddit">b/breaddit</strong> â€¢ Posted by u/sampleuser</h6>
              <h5 class="card-title text-left">sample post</h5>
              <p class="card-text text-left">kdsjfksdfjndksnf</p>
            </div>
          </div>
        </div>
      </div>
    </section>
    <section class="hidden" id="profile">
      <div class="jumbotron bg-dark">
        <h1 id="userscreenname"></h1>
        user details here
      </div>
    </section>
    <section class="hidden" id="newPost">
      <h1 id="newpostheader"></h1>
      <p>
        <input name="postTitle" class="form-control vw-75 float-none" type="text" id="postTitle" placeholder="Title" />
        <br>
        <textarea name="postBody" class="form-control vw-100 float-none" type="textarea" id="#postBody" placeholder="Body"></textarea>
        <br>
        <button type="button" class="btn" id="submitNewPost">Submit</button>
      </p>
      </section>
      <section class="hidden" id="breadditPage">
        <h1 id="breadditname"></h1>
        <button type="button" class="btn text-white" id="createNewPost">Create New Post</button>
        <ul id="breadditposts"></ul>
      </section>
      <br>
      <button disabled type="button" class="btn text-white" id="googlesignin">Join Breaddit</button>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script>
      /*document.querySelector('#test').addEventListener("click", () => {
        request(true)
      }, false);
      document.querySelector('#testfalse').addEventListener("click", () => {
        request(false)
      }, false);
      document.querySelector('#testprofile').addEventListener("click", () => {
        request_profile(false)
      }, false);*/
      $("#join").click(function(){
        var name = $("#myname").val();
        // function to add username to the user
        $("#userprofile").append(` ${name}`);
        $("#nav").removeClass("hidden");
        $("#googlesignin").addClass("hidden");
        $("#notloggedin").addClass("hidden");
        $("#homepage").removeClass("hidden"); //switch to actual homepage
      });
      $("#home").click(function(){
        $("#breadditPage").addClass("hidden");
        $("#profile").addClass("hidden");
        $("#newPost").addClass("hidden");
        $("#googlesignin").addClass("hidden");
        $("#homepage").removeClass("hidden");
        //shows homepage content that only allows you to veiw new posts and create a new breaddit
        //function to GET all posts and display them each in #posts
      });
      $("#userprofile").click(function(){
        $("#breadditPage").addClass("hidden");
        $("#newPost").addClass("hidden");
        $("#homepage").addClass("hidden");
        $("#profile").removeClass("hidden"); //show just profile and allow user to sign out
        $("#googlesignin").removeClass("hidden");
        //function to GET all User details
      });
    </script>
  </body>
</html>
